<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html;charset=windows-1251">
</head>
<link rel="stylesheet" href="../STYLE.css">
<body TEXT="#000000" BGCOLOR="#E7E3E7" LINK="#004080" VLINK="#004080" olink="#008080" Background="">
<table BORDER=0   COLS=3 WIDTH="16%" >
  <tr> 
    <td><font face="Arial, Helvetica, sans-serif"><a href="Index3.htm"><img SRC="Back.gif"  BORDER=0 ></a></font></td>
    <td WIDTH="10%"><font face="Arial, Helvetica, sans-serif"><a href="Index0.htm"><img SRC="Menu.gif" BORDER=0 ></a></font></td>
    <td ALIGN=RIGHT><font face="Arial, Helvetica, sans-serif"><a href="Index5.htm"><img SRC="For.gif" BORDER=0 ></a></font></td>
  </tr>
</table>
<table BORDER =0 COLS=3 WIDTH="11%" >
  <tr> 
    <td WIDTH="10%">&nbsp;</td>
  </tr>
</table>


<table width="100%" border="0">
  <tr> 
    <td class="Text"><p class="tit_A">Удалены ( повреждены ) системные файлы </p>
      <p>Если вы умудрились удалить один или несколько системных файлов при работе в операционной системе, что особенно просто сделать в Windows 9х, вы этого никак не заметите, пока не перезагрузите компьютер. Как только одна из программ запросит перезагрузку или же вы сами захотите сделать это, &quot;небо над вами померкнет&quot;. При этом спасти вас смогут две вещи: программа восстановления удаленных файлов или переустановка операци онной системы, что в случае с Windows 2000/ XP равнозначно полной потере всех установленных программ (в Windows 9 x имеется возможность установки операционной системы &quot;поверх&quot;). </p>
      <p>С другой стороны, не только &quot;криворукость&quot; самого пользователя может привести к повреждению или удалению системных файлов. При установке некоторых программ часть системных файлов может подвергаться замене якобы на более новые версии. Для чего это делается, не известно, хотя можно предположить, что данная программа не способна нормально рабо тать со стандартным файлом, поэтому он заменяется на модифицированную версию, которая, однако, может работать некорректно со всеми остальными программами. В реальной практике такой подход встречается нередко, по этому в той же Windows XP на этот случай имеется программа, блокирую щая попытки заменить все жизненно важные системные файлы. С другой стороны, некоторые программы при удалении &quot;уносят&quot; с собой некоторые системные файлы. Так, например, известная программа редактирования звуковых файлов Sound Forge (по крайней мере, версии 4.5), когда ее деин сталлируешь, предлагает удалить один важный компонент, без которого не будет работать звуковая плата. Хорошо еще, что у подавляющей части про грамм имеется функция предупреждения при удалении файлов с расшире нием DLL , SYS и проч., а также при удалении файлов из рабочего каталога Windows (подробнее в<a href="../Glava%2012/Index0.htm"> главе 12</a>). </p>
      <p>Другой не менее важный фактор, который может повлиять на состояние файлов, — это стабильность электропитания в момент совершения таких операций, как, например, дефрагментация. Стоит только компьютеру не ожиданно перезагрузиться в момент перемещения системного файла, как можете быть почти уверены, что после перезагрузки он окажется повреж денным или вообще будет отсутствовать. Теперь о возможности восстановления. В большинстве случаев вполне дос таточно воспользоваться старой, но от этого не менее актуальной програм мой UNERASE , которую можно найти на многих загрузочных компакт- дисках (так называемых реаниматорах). Аналог этой программы UNDELETE выполняет те же функции, что и сама UNERASE , так что большой разницы в том, что именно вы будете использовать, нет. </p>
      <p>Если вы используете файловую систему FAT любой модификации, тогда проблем с восстановлением файлов у вас не должно возникнуть. Вам будет достаточно найти и запустить программу UNERASE , предварительно загру зившись с загрузочного диска. Если же вы используете файловую систему NTFS (также любой модификации), тогда вам придется сильно потрудиться, чтобы получить доступ к разделу с информацией. Здесь возможны два варианта. Первый заключается в подключении жесткого диска к другому компьютеру с установленной операционной системой, которая &quot;понимает&quot; имею щуюся файловую систему. Второй вариант более сложен в финансовом плане, т. к. вам придется прикупить специальный загрузочный диск, кото рый организует доступ к NTFS -разделам из среды MS - DOS , хотя такой диск при наличии времени да способностей можно сделать и самому. </p>
      <p>Некоторые из системных файлов, по крайней мере те, которые находятся в рабочем каталоге Windows , можно восстановить простым копированием из дистрибутива, но здесь следует иметь в виду, что чаСть файлов находится в сжатом виде. В основном для распаковки файлов дистрибутива использу ются программы, находящиеся в самом каталоге дистрибутива, например, программа EXTRACT в Windows 98 SE . Например, при использовании упо мянутой программы командная строка будет выглядеть вот таким образом: </p>
      <p class="Code">A:\EXTRACT /A /L С :WINDOWS\SYSTEM Z:\WIN98\win98_21.cab FILENAME, </p>
      <p>где ключ а позволяет просмотреть все архивы дистрибутива за один проход. Ключ l и последующий за ним путь указывают путь, куда следует распако вать требуемый файл. Следующий далее путь, начинающийся с символа z , обозначает букву, назначенную приводу CD - ROM , где следует искать дист рибутив, a filename — это имя файла, который требуется найти и распако вать. Следует иметь в виду то, что в системе MS - DOS обязательно нужно указывать абсолютный путь ко всем файлам и каталогам (с использованием буквы диска), а вместе с именем файла указывать и его расширение. Стоит отметить, что указывать имя архива как в примере необязательно, потому что первый ключ &quot;заставляет&quot; программу EXTRACT просматривать все ар хивы дистрибутива. </p>
      <p>Для операционных систем Windows 2000/ХР имеется возможность воспользоваться консолью восстановления, которая позволяет при помощи относи тельно небольшого набора команд автоматически восстановить системные файлы. Единственно, что вам потребуется при этом, так это компакт-диск с дистрибутивом. </p>
      <p>Если имеется возможность загрузки операционной систему хотя бы в безо пасном режиме, можно воспользоваться заранее созданной точкой отката (для Windows ME и ХР). Делается это следующим способом: </p>
      <ul>
        <li class="nonum">запустите программу Пуск | Программы | Стандартные | Служебные | Восстановление системы; </li>
        <li class="nonum">выберите пункт Восстановление системы и нажмите Далее; </li>
        <li class="nonum"> на появившемся календаре укажите дату точки отката, которую, как вы считаете, следует использовать, после чего нажмите Далее; </li>
        <li class="nonum"> ответьте положительно на предложение закрыть все активные приложе 
          ния, что необходимо для нормального перезапуска системы в режиме 
          восстановления; </li>
        <li class="nonum"> нажмите ОК, после чего компьютер перезагрузится, в процессе чего сис 
          темные файлы будут восстановлены; </li>
        <li class="nonum"> сразу же после восстановления вы можете отменить все внесенные изме 
          нения (вернуть те настройки, которые были до активизации функции 
          восстановления). Для этого опять запустите программу Восстановление 
          системы, где имеется пункт Отмена восстановления. Это необходимо на 
          случай, если восстановление было неудачным. </li>
      </ul>      <p>Практически единственной рекомендацией для профилактики подобных ошибок для вас может стать следующее правило — если вы не уверены в том, что файл можно удалить, не удаляйте его. Проверьте его атрибуты, если установлен атрибут &quot;только для чтения&quot;, &quot;скрытый&quot; или &quot;системный&quot;, — это почти наверняка системный файл, его нельзя ни в коем случае ни удалять, ни изменять, ни перемещать в другие каталоги. Также посмотрите на размер файла — если он незначителен, просто сделайте этот файл скрытым, чтобы он не &quot;мешал вашему взору&quot;, когда вы занимаетесь навигацией по многочислен ным каталогам. А вот если файл занимает на диске более 10 Мбайт, в таком случае следует обратить внимание на дату его создания, что позволит хотя бы примерно определить, какой программой он создан, возможно, это вы испробовали новую версию графического редактора и забыли удалить временно созданный файл. Рекомендуется обратить особое внимание на те файлы, которые расположены в корневом каталоге жесткого диска. </p>
      <p class="Tit_B">Системные файлы Windows 9 x </p>
      <p>В операционных системах Windows 9 x системных файлов, особенно расположенных в корневом каталоге жесткого диска, имеется довольно большое количество, поэтому вам следует знать их &quot;в лицо&quot;, чтобы случайно не уда лить какие-либо при удалении &quot;мусора&quot;. Некоторые из системных файлов можно редактировать, но не стоит этого делать, если вы не имеете достаточного опыта в работе с компьютерами. </p>
      <p>Если один из системных файлов недоступен или поврежден, компьютер прекратит процесс загрузки и выдаст на экран монитора соответствующее сообщение. Обычно сообщение об ошибке несет небольшое количество по лезной информации, из чего следует, что вам придется &quot;поломать голову&quot; над причиной сбоя. В русских версиях операционных систем сообщения об ошибках могут выводиться в русской кодировке, или, как еще говорят, в кириллице, а так как для нормального отображения символов на русском языке требуется предварительная загрузка специального драйвера, экран монитора может оказаться испещрен непонятными &quot;крякозяблами&quot;. Единст венное успокоение в данной ситуации в том, что имя файла, который стал причиной сбоя, в любом случае будет написано латинскими символами, которые, в свою очередь, нормально отображаются без всяких дополнительных драйверов. </p>      
      <p>Ниже приведен список файлов, на которые следует обратить внимание при очистке жесткого диска от &quot;мусора&quot;. </p>
      <p>AUTOEXEC . BAT — конфигурационный файл, доставшийся в наследство от MS - DOS . Содержит команды, которые должны быть выполнены до старта 32-битной (основной) части операционной системы. Его удаление может повлиять только лишь на работу программ, использующих его для своей инициализации, например, ключа защиты, т. к. в этом случае в память ком пьютера загружается стандартный набор тех программ-, которые необходимы для нормальной работы Windows (подробнее об этом в главе 9). Этот файл можно редактировать по своему усмотрению, но некорректные записи в нем могут вызвать зависание компьютера на этапе загрузки или во время его ра боты. Стоит отметить, что в Windows ME этот файл вообще игнорируется. </p>
      <p>AUTOEXEC . DOS — резервная копия файла AUTOEXEC . BAT , принадлежавшего к установленной ранее копии Windows . Используется, когда в загрузочном меню была выбрана загрузка предыдущей версии операционной системы. Если вы никогда не пользуетесь этой функцией, тогда этот файл можно спокойно удалить, хотя можно и оставить, сделав его &quot;скрытым&quot;, т. к. он занимает немного места на диске. </p>
      <p>CONFIG . SYS — конфигурационный файл, так же как и предыдущий, ос тавшийся от MS - DOS . Используется для загрузки 16-битных драйверов, ис пользуемых, например, для работы старого оборудования. Этот файл можно редактировать, но некорректные записи в нем могут вызвать зависание ком пьютера на этапе загрузки или во время его работы. Стоит отметить, что в Windows ME этот файл вообще игнорируется. </p>
      <p>CONFIG . DOS — конфигурационный файл, принадлежащий ранее установ ленной версии Windows . Как и файл AUTOEXEC . DOS , востребуется только в том случае, когда выбирается пункт Previous version of MS - DOS загрузоч ного меню. Его можно удалить, но только в том случае, если вы не пользуе тесь данным режимом загрузки. </p>
      <p>COMMAND . COM — командный процессор (другими словами интерпретатор). Этот файл отвечает за выполнение команд MS - DOS , всех пакетных файлов с расширением ВАТ, загрузку в память компьютера программ MS - DOS . Необ ходим для запуска всех версий Windows 9 x , кроме Windows ME . Редактировать, удалять или перемещать его нельзя, в противном случае операционная система не загрузится. </p>
      <p>COMMAND . DOS — командный процессор, принадлежащий предыдущей версии операционной системы. Используется только в случае, когда вы вы бираете загрузку предыдущей операционной системы в зафузочном меню. </p>
      <p>IO . SYS — ядро операционной системы MS - DOS , входящей в состав Win dows 9х. При удалении или изменении этого файла загрузка становится невозможной. Этот файл располагается в загрузочном секторе, поэтому его восстановление осуществляется не обычным копированием, а командой SYS А: С:, причем в этот момент на дискете, установленной в дисковод А:, должны содержаться необходимые системные файлы, такие как непосредст венно сам IO . SYS , так и MSDOS . SYS , C 0 MMAND . COM , т. е. она должна быть зафузочной. Версия файла должна обязательно соответствовать версии установленной операционной системы. </p>
      <p>IO . DOS — как и во всех предыдущих случаях, файл с этим расширением относится к предыдущей версии операционной системы. </p>
      <p>MSDOS . SYS — конфигурационный файл операционной системы Windows , который обрабатывается в первую очередь. В нем содержатся параметры, необходимые при начальной стадии старта системы. При его отсутствии все необходимые параметры берутся из файла IO . SYS , но в этом случае зафузка будет возможна только в режиме командной строки. Правила редактирования этого файла рассмотрены в главе 9. </p>
      <p>MSDOS . DOS — конфигурационный файл, принадлежащий предыдущей версии операционной системы. </p>
      <p>LOGO . SYS — стартовый логотип Windows . При отсутствии этого файла, на чиная с Windows 98, используется логотип, &quot;зашитый&quot; в файле IO . SYS . Так как структура его напоминает обыкновенный графический файл с расширением BMP , можно менять логотип по своему усмотрению (подробнее смот рите в главе 9). </p>
      <p>BOOTLOG . TXT — протокол зафузки операционной системы. Создается в случае, если выбирается режим зафузки &quot; Logged &quot; (в загрузочном меню). Он используется для выявления причины сбоев, приводящих к невозможно сти загрузки (подробнее смотрите в разделе Аварийный запуск этой главы). </p>
      <p>BOOTLOG . PRV — протокол предыдущей зафузки операционной системы, а также последнего выключения компьютера. Как и предыдущий файл, нужен только лишь для диагностики проблем. </p>      <p>DETLOG . TXT — протокол процесса обнаружения оборудования, он создается при установке Windows , а также при выборе пункта Установка оборудования Панели управления, и служит для выявления причин зависаний на стадии инсталляции или же установки нового оборудования. </p>
      <p>DETLOG . OLD — протокол предыдущего процесса обнаружения оборудова ния, он фактически является всего лишь старой версией предыдущего файла. </p>
      <p>OEMLOG . TXT — протокол установки операционной системы в режиме OEM ( Original Equipment Manufactured ), т. е. при установке на новый жест кий диск. </p>
      <p>SETUPLOG . TXT — протокол хода установки операционной системы, ис пользуется в случаях переустановки &quot;поверх&quot;, чтобы не задавать пользовате лю тех же вопросов, что и при первой установке. </p>
      <p>SUHDLOG . DAT — этот файл содержит копию загрузочных записей Master Boot Record и Partition Boot Record , существовавших до и после установки операционной системы. Он используется для восстановления главного за- фузочного сектора при удалении Windows посредством программы Установка и удаление программ, но только если это было предусмотрено во время об новления Windows . </p>
      <p>SYSTEM .1ST — копия части системного реестра, которая отвечает за уста новленное оборудование. Этот файл можно использовать для восстановле ния поврежденного системного реестра. </p>
      <p>SCANDISK . LOG — протокол работы программы ScanDisk . Используется только в справочных целях, для выяснения проделанной программой сканирования работы. Его создание можно отключить, выбрав в окне программы вкладку Дополнительно и установив галочку напротив пункта Не вести протокол. </p>
      <p>CVT . LOG — протокол работы программы Drive Converter , которая предназначена для конвертирования FAT 16 в FAT 32. Используется для выяснения причин сбоев при конвертировании. </p>
      <p>VIDEOROM . BIN — полная копия микросхемы BIOS видеоплаты, интегри рованной в материнскую плату. Используется для поддержки нескольких мониторов, так что когда вы устанавливаете вторую видеоплату в компью тер, инициализация первой происходит путем обращения уже не к самой микросхеме BIOS , а к этому файлу. Если вы удалите этот файл, то поддерж ка двух мониторов пропадет до тех пор, пока вы его не восстановите. Стоит обратить внимание, что при обновлении версии BIOS видеоплаты следует старую копию файла удалить. Тот же смысл несет в себе другой файл под названием OEMROM . BIN . </p>
      <p>W 98 UNDO . DAT — архив файлов предыдущей версии операционной систе мы. Файл используется для &quot;отката&quot; версии Windows посредством програм мы Установка и удаление программ. </p>
      <p>W 98 UNDO . INI — файл сценария &quot;отката&quot; версии операционной системы. Создается при обновлении версии Windows . </p>
      <p class="Tit_B">Системные файлы Windows 2000/ ХР </p>
      <p>Для операционных систем Windows 2000/ХР набор системных файлов отли чается от набора файлов для семейства Windows 9 x . Так же, как и в преды дущем случае, нельзя эти файлы удалять или изменять (последнее могут вы полнять только пользователи, имеющие опыт работы на компьютере, да и то это относится не ко всем файлам). </p>
      <p>Если один из системных файлов недоступен или поврежден, компьютер прекратит процесс загрузки и выдаст на экран монитора соответствующее сообщение. Зачастую сообщение об ошибке имеет достаточно объемный текст, поэтому вам придется либо воспользоваться англо-русским словарем, либо предварительно изучить английский язык, чтобы наиболее полно по нять суть проблемы. В русских версиях операционных систем сообщения об ошибках могут выводиться в русской кодировке или, как еще говорят, в кириллице, а так как для нормального отображения символов на русском языке требуется предварительная загрузка специального драйвера, экран монитора может оказаться испещрен непонятными &quot;крякозяблами&quot;. Единственное ус покоение в данной ситуации в том, что имя файла, который стал причиной сбоя, в любом случае будет написано латинскими символами, которые в свою очередь нормально отображаются без всяких дополнительных драйверов. </p>
      <p>Ниже приведен список файлов, на которые следует обратить внимание при очистке жесткого диска от &quot;мусора&quot;. </p>
      <p>NTLDR — этот файл необходим для загрузки операционной системы, он находится в зафузочном секторе жесткого диска. После инициализации этот файл позволяет уже загружать и инициализировать все остальные сис темные файлы. Файл имеет атрибут &quot;только для чтения&quot; и &quot;скрытый&quot;, изме нять эти атрибуты не рекомендуется, на что следует обратить внимание при пакетном изменении атрибутов. </p>
      <p>BOOT . INI — этот файл используется для организации загрузочного меню, в котором вы можете выбрать вариант загрузки в случае установки нескольких операционных систем. Он имеет атрибут &quot;только для чтения&quot;. Имеется воз можность редактирования этого файла, о чем подробно рассказано в главе 9. </p>
      <p>BOOTSECT . DOS — этот файл позволяет запускать любые операционные системы, отличные от Windows NT , например, Windows 98. Он имеет атри бут &quot;скрытый&quot;, эти атрибуты изменять крайне не рекомендуется, на что сле дует обратить внимание при пакетном изменении атрибутов. </p>
      NTDETECT . COM — этот файл используется для генерации списка исполь зуемого оборудования и проверки его на совместимость. Он имеет атрибуты &quot;скрытый&quot; и &quot;только для чтения&quot;, изменять эти атрибуты крайне не рекомендуется, на что следует обратить внимание при пакетном изменении атрибутов. Именно из-за особенностей работы этого файла в Windows 2000/ХР могут использоваться только те устройства, которые были включены до запуска операционной системы. Все остальные не могут быть инициализиро ваны автоматически (за исключением устройств, подключаемых к шине USB ), что чаще всего пользователи замечают на примере внешних модемов, для инициализации которых приходится перезагружать компьютер либо обновлять сведения об установленном оборудовании, но делать это приходится &quot;вручную&quot;. 
      <p>NTBOOTDD . SYS — этот файл используется для загрузки операционной системы с диска, подключенного к контроллеру SCSI . </p>
      <p>Все вышеописанные файлы расположены в корневом каталоге того жест кого диска, с которого осуществляется загрузка операционной системы. Хотя если быть точным, то эти файлы располагаются в первом активном разделе диска, в то время как сама по себе загрузка может производиться и с другого жесткого диска. Все нижеследующие файлы располагаются в рабо чем каталоге Windows , но, несмотря на их внешнюю защищенность от &quot;кри вых рук&quot; пользователя, все-таки следует знать, какие файлы нельзя трогать ни в коем случае. </p>
      <p>NTOSKRNL . EXE — ядро операционной системы семейства Windows NT , это аналог файла KERNEL . DLL для Windows 9 x . </p>
      <p>HALL.DLL — библиотека Hardware Abstraction Layer. </p>      </td>
  </tr>
</table>
<table BORDER =0 COLS=3 WIDTH="11%" >
  <tr> 
    <td WIDTH="10%">&nbsp;</td>
  </tr>
</table>

<table BORDER=0   COLS=3 WIDTH="16%" >
  <tr> 
    <td><font face="Arial, Helvetica, sans-serif"><a href="Index3.htm"><img SRC="Back.gif"  BORDER=0 ></a></font></td>
    <td WIDTH="10%"><font face="Arial, Helvetica, sans-serif"><a href="Index0.htm"><img SRC="Menu.gif" BORDER=0 ></a></font></td>
    <td ALIGN=RIGHT><font face="Arial, Helvetica, sans-serif"><a href="Index5.htm"><img SRC="For.gif" BORDER=0 ></a></font></td>
  </tr>
</table>
</body>
</html>