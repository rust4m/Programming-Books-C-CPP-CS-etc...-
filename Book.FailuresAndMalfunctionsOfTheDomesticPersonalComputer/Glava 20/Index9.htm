<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html;charset=windows-1251">
</head>
<link rel="stylesheet" href="../STYLE.css">
<body TEXT="#000000" BGCOLOR="#E7E3E7" LINK="#004080" VLINK="#004080" olink="#008080" Background="">
<table BORDER=0   COLS=3 WIDTH="16%" >
  <tr> 
    <td><font face="Arial, Helvetica, sans-serif"><a href="Index8.htm"><img SRC="Back.gif"  BORDER=0 ></a></font></td>
    <td WIDTH="10%"><font face="Arial, Helvetica, sans-serif"><a href="Index0.htm"><img SRC="Menu.gif" BORDER=0 ></a></font></td>
    <td ALIGN=RIGHT><font face="Arial, Helvetica, sans-serif"><a href="Index10.htm"><img src="For.gif" width="73" height="22" border="0"></a></font></td>
  </tr>
</table>
<table BORDER =0 COLS=3 WIDTH="11%" >
  <tr> 
    <td WIDTH="10%">&nbsp;</td>
  </tr>
</table>
<table width="100%" border="0">
  <tr> 
    <td class="Text"><p class="tit_A">Аппаратные конфликты </p>
      <p class="Tit_B">Причины появления аппаратных конфликтов </p>
      <p>Как ни странно, можно без особых раздумий сказать — проблема в универ сальности современных компьютеров. </p>
      <p>Изначально у компьютера IBM AT была всего одна-единственная шина, с помощью которой все устройства подключались к оперативной памяти и процессору (это шина ISA ). Вся архитектура IBM -совместимых компьютеров строилась только на ней, что, в общем-то, было вполне оправданным — в те времена производительность 286-го компьютера была просто изуми тельной по сравнению с другими компьютерами, так что перед производи телями не стояло задачи создавать стандарт с большим &quot;запасом прочности&quot;. Тем более, что подобные разработки всегда отрицательно сказывались на конечной стоимости продукта. </p>
      <p>Не существовала ранее и система автоматической настройки устройств Plug and Play , поэтому все оборудование приходилось настраивать, в прямом смысле, вручную. Чтобы облегчить работу специалистов по настройке ком пьютеров, практически всем устройствам были назначены строго опреде ленные ресурсы компьютера, которые не могли быть заняты другими уст ройствами, что, в общем-то, не только ускоряло сам процесс окончательной настройки компьютера, но и практически на 100% устраняло возможность возникновения аппаратных конфликтов. </p>
      <p>Естественно, что с течением времени производительность любого старого стандарта перестает удовлетворять, что приводит к появлению нового. Более скоростные стандарты либо являются надстройками над более старыми вер сиями, позволяющими преодолеть те ограничения, которые последние име ют, либо имеют совершенно иной способ подключения, который совсем не совместим со старым методом. Вот здесь мы и сталкиваемся с первой проблемой. Для сохранения совместимости со старыми устройствами произво дители вынуждены оставлять как разъемы, так и программы, которые, как мы уже знаем, не поддерживают автоматической настройки. </p>
      <p class="Prim"><span class="Text_b">Примечание </span>
      В качестве доказательства утверждения , что система автоматической настрой ки Plug and Play является одной из причин появления сбоев , можно привести семейство операционных систем Windows NT . Все они заслуженно считаются очень стабильными , особенно по сравнению с семейством Windows 9 x , хотя в последнее время , а именно с появлением версии Windows 2000, и здесь появились различные нюансы . Одним из основных нововведений в Windows 2000 является поддержка системы Plug and Play . Выводы делайте сами ... </p>
      <p>Практически все современные устройства разрабатываются согласно требованиям к возможности их автоматической настройки, поэтому все специфи кации, безусловно, поддерживают технологию Plug and Play . Здесь мы стал киваемся со второй более серьезной проблемой. Старые устройства по- прежнему требуют безоговорочного резервирования строго определенных ресурсов компьютера, тогда как современные устройства вполне способны работать практически с любыми свободными ресурсами ПК. Вполне естест венно, что для нормальной работы всех старых устройств в любом случае будут зарезервированы все необходимые ресурсы, в то же время их стано вится все меньше и меньше, пока не наступает предел, когда даже новые устройства уже не могут нормально распределить между собой оставшееся количество ресурсов. </p>
      <p>Но давайте рассмотрим все по порядку. </p>
      <p class="Tit_B">Распределение ресурсов компьютера </p>
      <p>Под старыми устройствами сегодня следует понимать те устройства, кото рые для своей работы, точнее для связи с остальными компонентами ком пьютера, используют шину ISA . Это такие устройства, как последователь ные, параллельный и инфракрасный порты, порты для подключения клавиатуры и мыши, контроллер флоппи-дисковода. Все они используются до сих пор, поэтому избежать аппаратного конфликта иногда сложно. </p>
      <p><span class="Text_i">Аппаратный конфликт </span>— это ситуация, когда несколько устройств одновре менно пытаются получить монопольный доступ к одному и тому же ресурсу компьютера, причем компьютер начинает давать сбои в работе одного или нескольких устройств, а то и вообще зависает без всяких предупреждений или сообщений об ошибке. </p>
      <p>Ресурсы компьютера можно разделить на три основных группы: прерывания, каналы DMA и порты ввода/вывода. </p>
      <p><span class="Text_i">Прерывания ( IRQ , Interrupt Request ) </span>представляют собой физические сигна лы, при помощи которых специальный контроллер переключает вычисли тельные мощности центрального процессора от одного устройства к друго му, позволяя, таким образом, одновременно обрабатывать последовательно все поступающие запросы. Различают аппаратные и программные прерыва ния — в данном случае имеется в виду первый тип. Если устройство не подает запрос на выполнение определенных действий, тогда соответствующее ему прерывание не генерируется. </p>
      <p>Для работы любого устройства рекомендуется наличие свободного прерыва ния, при этом старое оборудование всегда требует для себя уник&amp;тьного но мера прерывания, в то время как некоторые наиболее современные устрой ства вполне могут обойтись так называемыми разделяемыми прерываниями. Кроме того, ставится условие, чтобы устройства, использующие одно пре рывание, не работали одновременно, хотя и здесь имеется ряд нюансов. </p>
      <p>Аппаратные прерывания могут происходить в любой момент, так что никто не застрахован от ситуации, когда два прерывания могут возникнуть одно временно. В этом случае система прибегает к специальной таблице приори тетов, где каждому прерыванию назначен уникальный приоритет. </p>
      <p>Как уже говорилось, немалое количество ресурсов резервируется под ис пользование их старым оборудованием, поэтому рекомендуется изучить всю таблицу прерываний (табл. 20.1), которую устанавливает операционная сис тема по умолчанию. </p>
      <p>Таблица 20.1. Таблица прерываний , устанавливаемая по умолчанию</p>
      <table width="100%" border="1" cellpadding="2" cellspacing="2" bordercolor="#000000">
        <tr valign="top">
          <td valign="top">
            <div align="left"><b>Прерывание</b></div></td>
          <td valign="top">
            <div align="left"><b>Устройство, назначаемое по умолчанию,
              рекомендации по настройке</b></div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQO</div></td>
          <td valign="top">
            <div align="left">Прерывание системного таймера, который отвечает за работу ча-
              сов реального времени. Применяется со времен первых IBM PC и
              для использования другими устройствами недоступно</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ1</div></td>
          <td valign="top">
            <div align="left">Прерывание клавиатуры. Генерируется при каждом нажатии на
              клавиши. Для другого использования недоступно</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ2</div></td>
          <td valign="top">
            <div align="left">Сегодня резервируется исключительно ради совместимости со
              старыми программами. Для другого использования недоступно</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ3</div></td>
          <td valign="top">
            <div align="left">Прерывание назначается по умолчанию последовательному порту
              COM2. Этим прерыванием пользуются устройства, использующие
&quot;парный&quot; порт COM4. Для других устройств это прерывание может
              стать доступным только после отключения порта в BIOS</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ4</div></td>
          <td valign="top">
            <div align="left">Прерывание назначается по умолчанию последовательному порту
              С0М1. Этим прерыванием пользуются устройства, использующие
&quot;парный&quot; порт COM3. Для других устройств это прерывание может
              стать доступным только после отключения порта в BIOS</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ5</div></td>
          <td valign="top">
            <div align="left">Прерывание используется звуковыми платами ISA и более новыми
              PCI. Современные звуковые платы занимают это прерывание ис-
              ключительно ради совместимости со старыми программами. Пре-
              рывание доступно для использования другими устройствами, но в
              этом случае возможны проблемы с запуском старых игр</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ6</div></td>
          <td valign="top">
            <div align="left">Прерывание используется контроллером флоппи-дисковода. Для<br>
              других устройств это прерывание может стать доступным только<br>
              после отключения контроллера в BIOS</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ7</div></td>
          <td valign="top">
            <div align="left">Прерывание используется параллельным портом при работе в ре-<br>
              жимах ЕРР и ЕСР. Для других устройств это прерывание может<br>
              стать доступным только после отключения порта в BIOS или при<br>
              выборе режима SPP (Normal)</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ8</div></td>
          <td valign="top">
            <div align="left">Прерывание используется часами реального времени. Для исполь
              зования другими устройствами невозможно</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ9</div></td>
          <td valign="top">
            <div align="left">Прерывание свободно для использования другими устройствами</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ10</div></td>
          <td valign="top">
            <div align="left">Прерывание свободно для использования другими устройствами</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ11</div></td>
          <td valign="top">
            <div align="left">Прерывание используется шиной USB. Для других устройств это<br>
              прерывание может стать доступным только после отключения шины
              в BIOS, т. к. даже при отсутствии подключенных устройств это пре
              рывание недоступно для использования другими устройствами</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ12</div></td>
          <td valign="top">
            <div align="left">Прерывание используется для мыши PS/2. Для других устройств<br>
              это прерывание может стать доступным только после отключения<br>
              порта в BIOS, т. к. даже при отсутствии мыши прерывание резерви
              руется и недоступно для использования другими устройствами</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ13</div></td>
          <td valign="top">
            <div align="left">Прерывание раньше использовалось для математического сопро
              цессора, сегодня резервируется ради совместимости со старыми<br>
              программами. Для использования другими устройствами недос
              тупно</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ14</div></td>
          <td valign="top">
            <div align="left">Прерывание используется первым каналом контроллера IDE. Для<br>
              других целей может быть использовано только после отключения<br>
              канала в BIOS</div></td>
        </tr>
        <tr valign="top">
          <td valign="top">
            <div align="left">IRQ15</div></td>
          <td valign="top">
            <div align="left">Прерывание используется вторым каналом контроллера IDE. Для<br>
              других целей может быть использовано только после отключения<br>
              канала в BIOS</div></td>
        </tr>
      </table>        
      <p> Не стоит понимать фразу &quot;это прерывание может стать доступным&quot; буквально, т. к. далеко не все устройства могут занимать выбранное вами прерыва ние. Яркий пример — звуковые платы. Практически все звуковые платы могут работать только либо с IRQ 5, либо IRQ 10, в то время как все остальные для них вполне могут оказаться недоступными. </p>
      <p>Для уменьшения вероятности возникновения аппаратных конфликтов реко мендуется придерживаться следующей последовательности установки уст ройств: </p>
      <p>? сначала собирается базовая конфигурация — процессор и кулер для него, модуль памяти, видеоплата, жесткий диск и привод CD - ROM ; </p>
      <p>О внутренний модем ( PCI или ISA ). Внешний модем подключается к одно му из последовательных портов, поэтому его настройка обычно не вызы вает больших проблем; </p>
      <ul>
        <li class="nonum">звуковая плата ( PCI или ISA ). Если звуковая плата интегрированная, то <br>
      гда она настраивается сразу же еще до установки всех остальных устройств; </li>
        <li class="nonum"> сетевая плата ( PCI или ISA ); </li>
        <li class="nonum">плата для работы с видеоизображением ( PCI или ISA ); </li>
        <li class="nonum"> контроллер SCSI ( PCI или ISA ); </li>
        <li class="nonum"> все остальные платы. </li>
      </ul>      <p>После установки каждого последующего устройства в компьютер может произойти аппаратный конфликт. При этом может потребоваться изменить порядок установки компонентов, которые уже установлены в вашем компь ютере (то есть потребуется изменить порядок, какое устройство будет уста навливаться первым, какое — вторым, какое — третьим и т. д.). Как пока зывает практика, время от времени встречаются компьютеры, которые нормально работают только в случае строгого соблюдения или указанной выше последовательности сборки или иной, в противном случае добиться стабильной работы бывает крайне сложно. </p>
      <p>Несмотря на то, что аппаратные конфликты встречаются нередко, в послед нее время все чаще и чаще причиной сбоев становятся драйверы устройств. Если во времена процессоров Pentium / Pentium II было достаточно устано вить Windows 98 и на этом вся настройка могла быть закончена, то теперь приходится устанавливать разнообразные &quot;патчи&quot;, &quot;сервис-паки&quot; и прочее. И далеко не всегда на компакт-диске с драйверами, который идет в ком плекте с каждым устройством, можно найти весь комплект, а то и просто нормально работающий драйвер. В таком случае приходится или мириться с ситуацией, или искать в Интернете другие версии драйверов, которые бу дут работать нормально. Яркий пример — многочисленное поколение драй веров для видеоплат от nVidia , так называемые Detonator ' bi . К тому же если все проблемы начинаются после переустановки операционной системы, стоит предположить, что все-таки виноваты в этом именно драйверы, хотя каждый случай требует отдельного разбирательства. </p>
      <p class="Tit_B">Устранение аппаратных конфликтов </p>
      <p>Перед тем как устанавливать новое устройство, желательно записать или запомнить, какое устройство какой ресурс использует. Это и прерывания, и каналы DMA , а еще и области оперативной памяти, так называемые порты ввода/вывода. Это поможет вам впоследствии относительно быстро восста новить прежнюю конфигурацию, если, например, нужно срочно доделать работу, а времени разбираться с проблемой нет.</p>
      <p>Узнать, как в данный момент распределены номера прерываний на вашем ПК, можно, запустив программу Сведения о системе из раздела Служебные программы. Также можно просмотреть список прерываний в Панели управления<br>
операционных систем Windows 9x, выбрав в свойствах Системы пункт Диспетчер устройств. Каждый раз после установки нового устройства или компонента системы, которым требуется прерывание, записывайте номера прерываний и названия устройств, которым эти прерывания назначены. Эти сведения помогут вам в разрешении аппаратных конфликтов.<br>
После того как вы подключили новое устройство, обязательно обратите внимание на то, как изменилось распределение ресурсов. В первую очередь изучите таблицу, что выводится на экран монитора перед началом загрузки операционной системы. Чтобы остановить на время запуск компьютера, можно воспользоваться клавишей &lt;PAUSE&gt;, которая расположена в верхнем правом углу. Чтобы поймать нужный момент, возможно, придется нажать ее несколько раз. В таблице указано, какое устройство какое прерывание занимает. Если вы обнаружите два или более устройств, возле которых стоит одна и та же цифра, скорее всего, одно из этих устройств нормально работать не будет. Особенно важно это, если конфликт связан с видеоплатой, т. к. в таком случае система может вообще не загрузиться.<br>
Для уменьшения вероятности аппаратных конфликтов следует совершить следующие действия:</p>
      <ul>
        <li class="nonum"> при первом же включении ПК после подключения нового устройства запустите программу CMOS Setup Utility, найдите параметр Reset Configuration или Force Update ESCD, который, скорее всего, находится в разделе PnP/PCI Configuration, и установите его в значение Yes. Выйдите из программы с сохранением изменений. После перезагрузки данные об установленном оборудовании &quot;обнулятся&quot;, что приведет к инициализации системы Plug and Play и перераспределению ресурсов компьютера между установленными устройствами. Если этого не сделать, система попытается назначить новому устройству одно из свободных ресурсов, который может оказаться неподходящим для данного устройства;<br>
  помимо вышеописанного параметра, стоит обратить внимание ее на следующие параметры (их можно использовать для устранения аппаратных конфликтов):
    <ul>
      <li class="nonum"> DMA n Assigned To — этот параметр позволяет назначить любой канал DMA строго определенному устройству, например звуковой плате ISA. Для этого требуется установить его в значение Legacy ISA, в противном случае следует оставить значение PCI/ISA РпР. В последнем случае каналы DMA будут распределяться согласно возможностям системы Plug and Play.<br>
              Параметр может иметь название DMA n Used By ISA. Соответственно этот параметр должен принимать значение либо No/ICU, либо Yes;</li>
      <li class="nonum"> IRQ n Assigned To — этот параметр позволяет резервировать прерывания подобно предыдущему параметру.<br>
          Параметр может иметь название IRQ n User By ISA с соответствующими ранее описанными значениями;</li>
      <li class="nonum"> Interrupt Mode — параметр позволяет использовать усовершенствованный контроллер прерываний, реапизующий 24 аппаратных прерывания вместо стандартных 16-ти. Обратите внимание, что если установить Windows при включенном параметре, выключение может привести к серьезным сбоям в работе компьютера, вплоть до невозможности его загрузки. Значение для включения параметра — APIC, для выключения — PIC;</li>
      <li class="nonum"> PCI IDE IRQ Map To — позволяет освободить прерывание, используемое контроллером IDE (IRQ14 и IRQ15), на материнской плате, в случае, если вы его не используете. При этом значение его должно быть PC AT (ISA). Если вы все-таки используете IDE-контроллер, оставьте значение, которое установлено по умолчанию (чаще всего это PCI IDE IRQ Mapping);</li>
      <li class="nonum"> PS/2 Mouse Function Control — параметр позволяет освободить прерывание, по умолчанию резервируемое для мыши PS/2 (IRQ12). Для этого значение параметра должно быть Auto или Disable. Если вы используете мышь PS/2, ни в коем случае не отключайте этот параметр;</li>
      <li class="nonum"> РпР OS Installed — параметр позволяет отдать приоритет в распределении ресурсов операционной системе (значение Yes) или материнской плате (значение No), точнее установленной на ней BIOS. Параметр может иметь название РпР Operating System.<br>
          Обратите внимание, что операционная система Windows NT 4.0 не обладает возможностью автоматического определения устройств, поэтому в BIOS этот параметр должен находиться в выключенном состоянии;</li>
      <li class="nonum"> Resource Controlled By — параметр позволяет отключить автоматическое распределение ресурсов;</li>
      <li class="nonum"> USB IRQ — позволяет освободить прерывание, по умолчанию используемое контроллером шины USB (значение Disabled);</li>
      </ul>
        </li>
        <li class="nonum"> отключите все неиспользуемые устройства, такие как:</span>
        </span>          
          <ul>
            <li class="nonum">           последовательные порты. На современных компьютерах они используются крайне редко, особенно COM2, т. к. на платах с интегрированным звуком разъем COM2 вообще не выведен наружу, что позволяет отключить его без особых последствий. Если вы используете внутренний модем, вам следует знать, что внутренние модемы не используют последовательный порт, а эмулируют его наличие, поэтому можно отключить оба порта;</li>
            <li class="nonum"> параллельный порт. Если у вас нет принтера, подключаемого к нему, тогда его следует отключить;</li>
            <li class="nonum"> контроллер IDE. Если вы используете только одно устройство IDE, можно отключить второй неиспользуемый канал. При этом можно освободить IRQ14 или IRQ15;</li>
            <li class="nonum"> контроллер шины PS/2. Если вы используете мышь, подключаемую к СОМ-порту, следует отключить его, освободив тем самым IRQ12.</li>
          </ul>
        </li>
      </ul>      <p>        При подключении новых устройств могут возникать самые разнообразные проблемы, а не только аппаратные конфликты, например система Plug and Play вообще никаким образом не определяет новое устройство, создавая впечатление его неисправности, даже если на другом компьютере оно работало исправно. Такое может случиться или в том случае, если устройство не поддерживает стандарт Plug and Play (например, наиболее старые ISA платы), или если не поступает напряжение питания (например, для устройства необходимо использовать дополнительный источник питания, или разъем недостаточно плотно подключен), или устройство неисправно. В первом случае следует обратиться к документации устройства, выяснить, какие ресурсы устройство должно использовать, после чего зарезервировать их при помощи параметров BIOS. Во втором случае следует проверить качество соединения всех разъемов и наличие напряжения на соответствующих выводах. В третьем случае ответ краток — ищите в срочном порядке гарантийный талон, если таковой имеется, и несите в сервис-центр.<br>
    Если какое-либо устройство, например контроллер шины USB, не отключается при помощи параметров BIOS, можно отключить его в Диспетчере устройств Windows, что, в общем-то, практически однозначно первому способу. </p></td>
  </tr>
</table>
<table BORDER =0 COLS=3 WIDTH="11%" >
  <tr> 
    <td WIDTH="10%">&nbsp;</td>
  </tr>
</table>

<table BORDER=0   COLS=3 WIDTH="16%" >
  <tr> 
    <td><font face="Arial, Helvetica, sans-serif"><a href="Index8.htm"><img SRC="Back.gif"  BORDER=0 ></a></font></td>
    <td WIDTH="10%"><font face="Arial, Helvetica, sans-serif"><a href="Index0.htm"><img SRC="Menu.gif" BORDER=0 ></a></font></td>
    <td ALIGN=RIGHT><font face="Arial, Helvetica, sans-serif"><a href="Index10.htm"><img src="For.gif" width="73" height="22" border="0"></a></font></td>
  </tr>
</table>
</body>
</html>