<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html;charset=windows-1251">
</head>
<link rel="stylesheet" href="../STYLE.css">
<body TEXT="#000000" BGCOLOR="#E7E3E7" LINK="#004080" VLINK="#004080" olink="#008080" Background="">
<table BORDER=0   COLS=3 WIDTH="16%" >
  <tr> 
    <td><a href="Index4.html"><img SRC="Back.gif"  BORDER=0 ></a></td>
    <td WIDTH="10%"><a href="../menu.html"><img SRC="Menu.gif" BORDER=0 ></a></td>
    <td ALIGN=RIGHT><a href="Index6.html"><img SRC="For.gif" BORDER=0 ></a></td>
  </tr>
</table>

 
<br>
<table width="100%" border="0">
  <tr>
    <td class="Text_n">
 
<p class="Tit_CN">

Изъяны фреймов HTML в Internet Explorer</P>

<p class="Text_n">
Малоизвестной особенностью броузера Internet Explorer является возможность использования доменной модели обеспечения безопасности (&quot;cross-domain security model&quot;). Исчерпывающее описание этой концепции можно найти по адресу
<span class="Text_b">http://www.microsoft.com/technet/security/bulletin/fq00-009.asp</span>. Вкратце это означает следующее. Описываемая модель скрыто используется и предотвращает чтение, доступ и любые другие операции с данными, открытыми в окне одного узла (простейшая форма домена IE), со стороны окна другого узла. При таком подходе фреймы HTML, открытые в каком-либо окне, должны быть доступны только из родительского окна при условии, что оба они относятся к одному и тому же домену.
<br>

Интересной особенностью этой модели является то, что локальная файловая система, содержимое которой можно просматривать с помощью Internet Explorer, тоже рассматривается как домен. Таким образом, при нарушении доменной безопасности в распоряжении нечестных операторов Web-узлов окажется много возможностей просмотра данных не только других узлов, посещаемых пользователем, но и файлов, которые находятся на его собственном жестком диске.
<br>

Используя некоторые из возможных подходов, достаточно написать лишь несколько строк кода и поместить его на Web-узле или отправить в электронном сообщении. Ниже приведено несколько реализаций этой идеи.
<br>
<P align="center">
<span class="Text_b">
Чтение других доменов с помощью дескриптора IFRAME и document.execCommand</span></P>
<br>
<p class="Text_n">
Эксперт в области безопасности броузеров Георгий Гунински (Georgi Guninski) обнаружил несколько случаев нарушения модели доменной безопасности, предотвращающей обмен данными между доменами.
<br>

При реализации кода Георгий часто использовал дескриптор iFRAME, который уже упоминался выше. Этот дескриптор является расширением стандарта HTML
4.0. В отличие от стандартного дескриптора FRAME, i FRAME позволяет создать плавающий фрейм, который располагается посредине обычной Web-страницы, не содержащей фреймов, подобно вставленному в нее изображению. Это довольно простой способ вставки содержимого других узлов (и даже файловой системы) внутрь Web-страницы, который прекрасно подходит для скрытого получения доступа к данным других доменов.
<br>

Описываемая реализация представляет собой замечательный пример. В исходном файле дескриптор I FRAME служит для задания локального файла. Затем в I FRAME вставляется код JavaScript, который выполняется в домене файловой системы. Если нечестный оператор Web-узла знает имя файла (или может о нем догадаться) и его местоположение, то при желании он сможет просмотреть файл любого типа, который может быть открыт в окне броузера. Например, файл winnt\repair\sam._ таким способом прочитать не удастся, поскольку при этом на экран будет выведено диалоговое окно загрузки файла IE. Георгий представил пример кода, который считывает файл C:\test.txt (при условии, что он существует на диске пользователя).
<br>
<P align="center">
<span class="Text_b">Контрмеры</span></P>
<br>
<p class="Text_n">
Установите модуль обновления, который можно найти по адресу
<span class="Text_b"> http://www. microsoft.com/technet/security/bulletin/ms99-042.asp</span>. Можно также
отключить режим использования активных сценариев с помощью процедуры, описанной в разделе &quot;Разумное Использование Зон Безопасности: Общее Решение Проблемы Элементов ActiveX&quot;.
<br>
<P align="center">
<span class="Text_b">
Проверка принадлежности к доменам Internet Explorer</span></P>
<br>
<p class="Text_n">
В июне 2000 года Эндрю Носенко (Andrew Nosenko) из компании Mead &amp; Company сообщил о том, что в Internet Explorer две функции не выполняют надлежащую проверку принадлежности к домену. Это позволяет создать такую страницу HTML, которая открывала бы фрейм с локальным файлом и могла читать этот файл
. В стремлении быть непревзойденным, Георгий Гунински тоже поместил на своем узле сообщение о подобной уязвимости. Код Георгия поражает обманчивой простотой.
<br>
<p class="Code">
&lt;IFRAME   ID=&quot;I1&quot;X/IFRAME&gt;<br>
&lt;SCRIPT for=Ii event=&quot;<br>
NavigateComplete2(b)&quot;&gt;<br>
alert(&quot;Here is your file:<br>
\n&quot;+b.document.body.innerText);<br>
&lt;/SCRIPT&gt;<br>
&lt;SCRIPT&gt;<br>
II.navigate ( &quot;file://c:/test.txt&quot;);<br>
setTimeout('II.navigate<br>
(&quot;file://c:/test.txt&quot;;',1000);<br>
&lt;/SCRIPT&gt;<br>
</p>

Как и в предыдущем случае, в качестве цели был избран файл test. Но с таким же успехом можно считать любой другой файл системы пользователя, который можно просмотреть в броузере. Для этого нужно внести соответствующие изменения в строку
file://с:/test.txt.
<br>
<P align="center">
<span class="Text_b">
Контрмеры</span></P>
<br>
<p class="Text_n">
Примените модуль обновления, который можно найти по адресу
<span class="Text_b"> http://www. microsoft.com/technet/security/bulletin/fq00-033.asp</span>. Как и в предыдущих случаях, альтернативной мерой является отключение активных сценариев. Эта предосторожность значительно ограничит функциональные возможности Web-узлов, работа которых основана на применении сценариев (см. раздел, посвященный зонам безопасности).
<br>


</p></td>
  </tr>
</table>
<br>
<table BORDER=0  COLS=3 WIDTH="11%" >
  <tr> 
   <td><a href="Index4.html"><img SRC="Back.gif"  BORDER=0 ></a></td>
    <td WIDTH="10%"><a href="../menu.html"><img SRC="Menu.gif" BORDER=0 ></a></td>
    <td ALIGN=RIGHT><a href="Index6.html"><img SRC="For.gif" BORDER=0 ></a></td>
   
  </tr>
</table>
</body>
</html>
