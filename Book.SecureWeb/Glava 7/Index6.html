<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html;charset=windows-1251">
</head>
<link rel="stylesheet" href="../STYLE.css">
<body TEXT="#000000" BGCOLOR="#E7E3E7" LINK="#004080" VLINK="#004080" olink="#008080" Background="">
<table BORDER=0   COLS=3 WIDTH="16%" >
  <tr> 
    <td><a href="Index5.html"><img SRC="Back.gif"  BORDER=0 ></a></td>
    <td WIDTH="10%"><a href="../menu.html"><img SRC="Menu.gif" BORDER=0 ></a></td>
    <td ALIGN=RIGHT><a href="Index7.html"><img SRC="For.gif" BORDER=0 ></a></td>
  </tr>
</table>

 
<br>
<table width="100%" border="0">
  <tr>
    <td class="Text_n">
 
<p class="Tit_CN">

Получение привилегий администратора</P>

<p class="Text_n">
Как было продемонстрировано выше, в большинстве случаев получить доступ на уровне пользователей очень просто. Для этого достаточно воспользоваться утилитой chknull, чтобы обнаружить пользователей без паролей, либо прибегнуть к их подбору. Следующим шагом большинства взломщиков будет получение прав администратора на сервере или дереве. Для решения этой задачи существует два основных метода:
<br>
<ul>
  <li>&nbsp;&quot;захват&quot; (pillage) сервера (традиционный метод),&nbsp;</li>
  <li>&nbsp;ложные атаки NCP.</li>
</ul>
<P align="center">
<span class="Text_b">
Несанкционированное получение данных</span></P>
<br>
<p class="Text_n">
На этой стадии многие злонамеренные взломщики будут предпринимать попытки несанкционированного получения данных. Другими словами, они будут пытаться зарегистрироваться везде, где это возможно, и найти доверчивых пользователей, хранящих пароли в незашифрованном виде. Такой подход способен принести гораздо больше выгоды, чем это может показаться на первый взгляд.
<br>

Несанкционированное получение данных (pillaging), скорее всего, похоже на &quot;черную магию&quot;, и этот процесс очень трудно продемонстрировать. Лучше всего в поисках подсказок и намеков просто просматривать каждый доступный файл. Никогда нельзя знать наверняка, однако в какой-то момент можно обнаружить даже пароль администратора. Со структурой корня тома SYS можно &quot;познакомиться&quot;, воспользовавшись командой
<span class="Text_b"> map n secret/sys:\</span> или с помощью программы On-Site. Просмотрите каждый доступный каталог. К числу каталогов, в которых содержатся интересные файлы, относятся следующие:
<br>
<ul>
  <li>&nbsp;SYS:SYSTEM</li>
  <li>&nbsp;SYS:ETC</li>
  <li>&nbsp;SYS:HOME</li>
  <li>&nbsp;SYS:LOGIN</li>
  <li>&nbsp;SYS:MAIL A SYS:PUBLIC</li>
</ul>

He забывайте о том, что пользователь, с помощью учетной записи которого вы зарегистрировались, может и не иметь доступа ко всем этим каталогам. Однако вы можете оказаться счастливчиком. Каталоги SYSTEM и ETC особенно важны, поскольку в них содержатся жизненно важные конфигурационные файлы сервера. Их может просмотреть лишь пользователь с правами администратора.
<br>
<P align="center">
<span class="Text_b">
Контрмеры против несанкционированного получения данных</span></P>
<br>
<p class="Text_n">
Контрмеры, позволяющие предотвратить попытки взломщика несанкционированно получить данные на томах NetWare просты и очевидны. Оба совета предполагают ограничение прав пользователей.
<br>
<ul>
  <li>&nbsp;С помощью утилиты filer назначьте ограниченные права доступа ко всем томам, каталогам и файлам.</li>
  <li>&nbsp;С использованием утилиты Nwadamn3x назначьте ограниченные права доступа ко всем объектам дерева NDS, включая Organization, Organizational Unit, серверы, пользователей и т.д.</li>
</ul>
<P align="center">
<span class="Text_b">nwpcrack</span></P>
<br>
<p class="Text_n">
Утилита nwpcrack представляет собой средство взлома паролей систем NetWare 4.x С ее помощью можно взломать пароль определенного пользователя с использованием словаря. В приведенном примере была обнаружена группа администраторов. После регистрации
в качестве пользователя появляется возможность увидеть пользователей, имеющих права, эквивалентные администраторам, или просто тех из них, кто является членом группы администраторов, MIS и т.д. Проделав это, в группе администраторов были обнаружены пользователи DEOANE и JSYMOENS. Именно с них и стоит начать атаку.
<br>

Запустив утилиту nwpcrack для пользователя DEOANE, нам удалось взломать его пароль, как видно из следующего рисунка. Теперь мы обладаем привилегиями администратора на данном сервере и можем получить доступ к любому из объектов, доступных этому пользователю.


<p class="label"><IMG src="13.gif" ><br>
</p>

 <p class="Text_n">
<p class="Prim"> Не пытайтесь применять утилиту nwpcrack к учетным записям администраторов, если включен режим блокировки вторжений. В противном случае может быть заблокирована учетная запись за пределами дерева. Перед тестированием с помощью утилиты nwpcrack учетной записи ADMIN (или эквивалентной) нужно создать ее резервную копию. В системе Windows NT не может возникнуть подобного состояния DoS, поскольку в ней нельзя заблокировать исходную учетную запись администратора, если не используется дополнительная утилита из набора NTRK, passprop.
Если с помощью утилиты nwpcrack будет обнаружен активный режим выявления вторжений, то вы получите сообщение tried password&laquo;password&raquo; с тем же паролем, выведенным повторно. Это будет свидетельствовать о том, что сервер NetWare больше не будет принимать запросы на регистрацию от этого пользователя. Тогда нужно нажать комбинацию клавиш &lt;Ctrl+C&gt;, чтобы выйти из программы, поскольку в противном случае на консоли сервера появится хорошо знакомое сообщение DS-5.73-32: intruder lock-out on account Admin (&quot;Блокирование вторжения для учетной записи Admin&quot;). А это совсем не входит в планы взломщика.
</p>
<P align="center">
<span class="Text_b">
Контрмеры: защита от утилиты nwpcrack</span></P>
<br>
<p class="Text_n">
Защититься от подбора пароля пользователей (скорее всего, администраторов) с помощью утилиты nwpcrack очень просто. Вот некоторые рекомендации.
<br>
<ul>
  <li>&nbsp;Реализуйте строгую политику использования паролей. Компания Novell не предоставила простого решения этой проблемы. Ее позиция по этому вопросу заключается в том, что администраторы могут ввести строгий режим использования паролей лишь посредством следования принятой политике обеспечения безопасности. Это сильно отличается от позиции компании Microsoft, которая с помощью динамически подключаемой библиотеки passfilt.dll позволяет ограничить типы паролей, которые можно использовать, принудительно задавая минимальную длину паролей и обязательные метасимволы (например,
    !@#$%). Как минимум нужно требовать, чтобы пользователи использовали пароли определенной длины и избегали повторений. Длину пароля проще всего контролировать С ПОМОЩЬЮ Переменной USER_TEMPLATE.</li>
  <li>&nbsp;Включите режим выявления вторжений и блокирование учетных записей. Выделите нужный контейнер (Organizational Unit), а затем выберите команду Details. Щелкните на кнопке Intruder Detection и задайте для параметров требуемые значения. По умолчанию рекомендуется установить следующие значения.</li>
</ul>
<blockquote>
  <blockquote>
<p class="Code">
Detect Intruders&nbsp;
Включен
<br>

Incorrect login attempts&nbsp;&nb
3
<br>

Intruder attempt reset interval (Days)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 14
<br>

Intruder attempt reset interval (Hours)&nbsp;&nbsp;&nbsp;&nbsp; 0
<br>

Intruder attempt reset interval (Minutes)&nbsp; 0
<br>

Lock account after detection&nbsp;&nbsp;&nbsp;&nbssp;&nbsp;
Включен&nbsp;
<br>

Intruder lockout reset interval (Days)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7
<br>

Intruder lockout reset interval (Hours)&nbsp;&nbsp;&nbsp;&nbsp; 0
<br>

Intruder lockout reset interval (Minutes)&nbsp; 0
<br>
  </blockquote>
</blockquote>




</p></td>
  </tr>
</table>
<br>
<table BORDER=0  COLS=3 WIDTH="11%" >
  <tr> 
   <td><a href="Index5.html"><img SRC="Back.gif"  BORDER=0 ></a></td>
    <td WIDTH="10%"><a href="../menu.html"><img SRC="Menu.gif" BORDER=0 ></a></td>
    <td ALIGN=RIGHT><a href="Index7.html"><img SRC="For.gif" BORDER=0 ></a></td>
   
  </tr>
</table>
</body>
</html>
